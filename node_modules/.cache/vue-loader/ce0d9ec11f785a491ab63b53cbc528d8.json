{"remainingRequest":"C:\\Users\\fabia\\Desktop\\esmad\\pw2\\projeto consumo\\ProjetoInterdisciplinar2\\ProjetoInterdisciplinar2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\fabia\\Desktop\\esmad\\pw2\\projeto consumo\\ProjetoInterdisciplinar2\\ProjetoInterdisciplinar2\\src\\views\\DetalhesProposta.vue?vue&type=style&index=0&id=3786f666&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\fabia\\Desktop\\esmad\\pw2\\projeto consumo\\ProjetoInterdisciplinar2\\ProjetoInterdisciplinar2\\src\\views\\DetalhesProposta.vue","mtime":1623253732338},{"path":"C:\\Users\\fabia\\Desktop\\esmad\\pw2\\projeto consumo\\ProjetoInterdisciplinar2\\ProjetoInterdisciplinar2\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\fabia\\Desktop\\esmad\\pw2\\projeto consumo\\ProjetoInterdisciplinar2\\ProjetoInterdisciplinar2\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\fabia\\Desktop\\esmad\\pw2\\projeto consumo\\ProjetoInterdisciplinar2\\ProjetoInterdisciplinar2\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\fabia\\Desktop\\esmad\\pw2\\projeto consumo\\ProjetoInterdisciplinar2\\ProjetoInterdisciplinar2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\fabia\\Desktop\\esmad\\pw2\\projeto consumo\\ProjetoInterdisciplinar2\\ProjetoInterdisciplinar2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLnByb3Bvc2FsRGV0YWlscyB7DQogIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7DQogIGJvcmRlci1yYWRpdXM6IG5vbmU7DQogIGJveC1zaGFkb3c6IG5vbmU7DQogIGJvcmRlcjogbm9uZTsNCn0NCi50ZXh0IHsNCiAgZm9udC13ZWlnaHQ6IGxpZ2h0ZXI7DQogIGZvbnQtc2l6ZTogMTdweDsNCiAgY29sb3I6ICM3Njc2NzY7DQogIHdvcmQtd3JhcDogYnJlYWstd29yZDsNCn0NCi5oZWFkZXIgew0KICBmb250LXdlaWdodDogNzAwOw0KICBjb2xvcjogIzcwNzA3MDsNCiAgZm9udC1zaXplOiAyMHB4Ow0KICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2M5NDUxNDsNCiAgcGFkZGluZy1ib3R0b206IDFweDsNCiAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KfQ0KLnRpdGxlIHsNCiAgZm9udC13ZWlnaHQ6IDcwMDsNCiAgY29sb3I6ICMwMDA7DQogIGZvbnQtc2l6ZTogMjNweDsNCiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7DQp9DQoudHlwZSB7DQogIGZvbnQtd2VpZ2h0OiA3MDA7DQogIGNvbG9yOiAjNzY3Njc2Ow0KICBmb250LXNpemU6IDE1cHg7DQp9DQo="},{"version":3,"sources":["DetalhesProposta.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DetalhesProposta.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <b-col md=\"12\">\r\n      <p id=\"title\">{{ proposta.titulo }} - Detalhes</p>\r\n      <b-card class=\"proposalDetails\">\r\n        <b-card-text>\r\n          <p v-if=\"proposta.nome_entidade == null\" class=\"type\">Projeto ESMAD</p>\r\n          <p v-else class=\"type\">Estágio ESMAD</p>\r\n          <p class=\"title\">{{ proposta.titulo }}</p>\r\n          <p class=\"header\">Autor:</p>\r\n          <p class=\"text\">{{ getName }}</p>\r\n          <p class=\"header\">Objetivos:</p>\r\n          <p class=\"text\">{{ proposta.objetivos }}</p>\r\n          <p class=\"header\">Plano Provisório de Trabalho:</p>\r\n          <p class=\"text\">{{ proposta.plano_provisorio_trabalho }}</p>\r\n          <p class=\"header\">Recursos necessários:</p>\r\n          <p class=\"text\">{{ proposta.recursos_necessarios }}</p>\r\n          <p class=\"header\">Perfil do candidato desejado:</p>\r\n          <p class=\"text\">{{ proposta.perfil_candidato_desejado }}</p>\r\n          <p class=\"header\">Resultados Esperados:</p>\r\n          <p class=\"text\">{{ proposta.resultados_esperados }}</p>\r\n          <p class=\"header\">Outros Dados:</p>\r\n          <p class=\"text\">{{ proposta.outros_dados }}</p>\r\n          <p v-if=\"proposta.nome_entidade != null\" class=\"header\">Tutor:</p>\r\n          <p v-if=\"proposta.nome_entidade != null\" class=\"text\">{{ proposta.nome_tutor }}</p>\r\n          <p v-if=\"proposta.nome_entidade != null\" class=\"header\">Cargo do tutor:</p>\r\n          <p v-if=\"proposta.nome_entidade != null\" class=\"text\">{{ proposta.cargo_tutor }}</p>\r\n          <p v-if=\"proposta.nome_entidade != null\" class=\"header\">Contacto entidade:</p>\r\n          <p v-if=\"proposta.nome_entidade != null\" class=\"text\">{{ proposta.contato }}</p>\r\n          <p v-if=\"proposta.nome_entidade != null\" class=\"header\">Professor orientador:</p>\r\n          <p v-if=\"proposta.nome_entidade != null\" class=\"text\">{{ getName }}</p>\r\n          <p v-if=\"proposta.nome_entidade != null\" class=\"header\">Nome entidade:</p>\r\n          <p v-if=\"proposta.nome_entidade != null\" class=\"text\">{{ proposta.nome_entidade }}</p>\r\n          <p v-if=\"proposta.nome_entidade != null\" class=\"header\">Morada da entidade:</p>\r\n          <p v-if=\"proposta.nome_entidade != null\" class=\"text\">{{ proposta.morada_entidade }}</p>\r\n          <p v-if=\"proposta.nome_entidade != null\" class=\"header\">Email entidade:</p>\r\n          <p v-if=\"proposta.nome_entidade != null\" class=\"text\">{{ proposta.email }}</p>\r\n        </b-card-text>\r\n      </b-card>\r\n      <b-button v-if=\"roleUser == 1 && proposta.id_tipo_estado == 1\" id=\"btnOpenForum\" class=\"btnOpenForum mb-4 mt-4 ml-3\" variant=\"light\" @click=\"$bvModal.show('aprovar_modal')\">Aprovar</b-button>\r\n      <b-button v-if=\"roleUser == 1 && proposta.id_tipo_estado == 1\" id=\"btnOpenForum\" class=\"btnOpenForum ml-3 mb-4 mt-4\" variant=\"light\">Enviar para Revisão</b-button>\r\n      <b-button v-if=\"userAutorId == proposta.id_user_autor && (proposta.id_tipo_estado == 1 || proposta.id_tipo_estado == 2)\" id=\"btnOpenForum\" class=\"btnOpenForum ml-3 mb-4 mt-4\" variant=\"light\">Editar</b-button>\r\n      <b-button v-if=\"userAutorId == proposta.id_user_autor && (proposta.id_tipo_estado == 1 || proposta.id_tipo_estado == 2)\" id=\"btnOpenForum\" class=\"btnOpenForum ml-3 mb-4 mt-4\" variant=\"light\">Eliminar Proposta</b-button>\r\n      <b-button id=\"btnOpenForum\" class=\"btnOpenForum ml-3 mb-4 mt-4\" variant=\"light\">Voltar</b-button>\r\n      <b-modal id=\"aprovar_modal\" size=\"lg\" hide-footer hide-header>\r\n        <div class=\"d-flex justify-content-center modalContent\">\r\n          <b-col md=\"8\">\r\n            <p id=\"title\" class=\"mb-5\">Atribuição de Tutor ESMAD</p>\r\n            <b-input-group>\r\n              <b-form-input v-model=\"form.orientador\" list=\"my-list-id\" placeholder=\"Selecione o Docente\" class=\"input\"></b-form-input>\r\n              </b-input-group>\r\n            <datalist id=\"my-list-id\">\r\n              <option>\r\n                Nome do artista\r\n              </option>\r\n            </datalist>\r\n            <div class=\"d-flex justify-content-center\">\r\n              <b-button id=\"aprovar\" class=\"mt-4\" type=\"submit\">Aprovar</b-button>\r\n            </div>\r\n          </b-col>\r\n        </div>\r\n      </b-modal>\r\n    </b-col>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n        proposta: Object,\r\n    },\r\n  data() {\r\n    return {\r\n      admin: this.$store.getters.getLoggedUser.name == \"CCA\" ? true : false,\r\n      form: {\r\n        orientador: \"\",\r\n        revisao: \"\",\r\n        candidatura: \"\",\r\n        ordem: 1,\r\n        user: this.$store.getters.getLoggedUser.name,\r\n      },\r\n      notification: {\r\n        id: this.$store.getters.getNextnotificationId,\r\n        message: \"\",\r\n        username: \"\",\r\n        userSend: \"\",\r\n        userSendPhoto: \"\",\r\n      },\r\n\r\n      userAutor:\"\",\r\n      roleUser:\"\",\r\n      userAutorId:\"\"\r\n    };\r\n  },\r\n  methods: {\r\n    editar() {},\r\n    getRole(){\r\n      this.roleUser = JSON.parse(localStorage.getItem('user')).role\r\n    },\r\n    getUserId(){\r\n      this.userAutorId = JSON.parse(localStorage.getItem('user')).id\r\n    },\r\n    eliminar() {\r\n      this.$store.dispatch(\"eliminar\", this.$route.params.id);\r\n      this.$router.go(-1);\r\n    },\r\n    aprovar() {\r\n      this.notification.message =\r\n        \"A tua proposta '\" + this.proposta.titulo + \"' foi aprovada\";\r\n      this.notification.username = this.proposta.user;\r\n      this.notification.userSend = this.$store.getters.getLoggedUser.name;\r\n      this.notification.userSendPhoto = this.$store.getters.getLoggedUser.img;\r\n      this.$store.dispatch(\"registerNotification\", this.$data.notification);\r\n      this.$store.dispatch(\"aprovar\", this.$data);\r\n    },\r\n    revisao() {\r\n      this.notification.message =\r\n        \"A tua proposta '\" +\r\n        this.proposta.titulo +\r\n        \"' foi enviada para revisão. Para mais informações consulte a proposta\";\r\n      console.log(this.proposta);\r\n      this.notification.username = this.proposta.user;\r\n      this.notification.userSend = this.$store.getters.getLoggedUser.name;\r\n      this.notification.userSendPhoto = this.$store.getters.getLoggedUser.img;\r\n      this.$store.dispatch(\"registerNotification\", this.$data.notification);\r\n      this.$store.dispatch(\"revisao\", this.$data);\r\n      //let user=this.proposal.user;\r\n      //console.log(user)\r\n    },\r\n    candidatar() {\r\n      this.$store.dispatch(\"candidatar\", this.$data);\r\n    },\r\n    async getAuthorUser() {\r\n      try {\r\n        await this.$store.dispatch(\"fetchUserById\",this.proposta.id_user_autor);\r\n      } catch (error) {\r\n        console.log(error);\r\n        this.content =\r\n          (error.response && error.response.data) ||  error.message || error.toString();\r\n      } finally {\r\n        // calls getter getMessage and result is put inside content component data\r\n        this.content = this.getMessage;\r\n      }\r\n    },\r\n    \r\n  },\r\n  computed:{\r\n    getName(){\r\n      return this.$store.getters.getPretendedUserName\r\n    }\r\n  },\r\n\r\n  created(){\r\n    this.getAuthorUser();\r\n\r\n    this.getRole()\r\n\r\n    this.getUserId()\r\n    try {\r\n      this.$store.dispatch(\"fetchUserById\",this.propCard.id_prof_orientador);\r\n    } catch (error) {\r\n        console.log(error);\r\n        this.content =(error.response && error.response.data) ||  error.message || error.toString();\r\n      }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.proposalDetails {\r\n  background-color: #f5f5f5;\r\n  border-radius: none;\r\n  box-shadow: none;\r\n  border: none;\r\n}\r\n.text {\r\n  font-weight: lighter;\r\n  font-size: 17px;\r\n  color: #767676;\r\n  word-wrap: break-word;\r\n}\r\n.header {\r\n  font-weight: 700;\r\n  color: #707070;\r\n  font-size: 20px;\r\n  border-bottom: 1px solid #c94514;\r\n  padding-bottom: 1px;\r\n  display: inline-block;\r\n}\r\n.title {\r\n  font-weight: 700;\r\n  color: #000;\r\n  font-size: 23px;\r\n  text-overflow: ellipsis;\r\n}\r\n.type {\r\n  font-weight: 700;\r\n  color: #767676;\r\n  font-size: 15px;\r\n}\r\n</style>"]}]}